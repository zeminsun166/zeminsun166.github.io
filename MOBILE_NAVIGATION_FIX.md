# 移动端导航折叠框问题修复

## 问题描述
在移动端设备上，右上角的折叠框（hamburger menu）一直显示着，只有点击后才会收回。网页端使用正常没有问题。

## 问题分析
通过代码分析发现，问题出现在以下几个方面：

1. **Greedy Navigation插件逻辑问题**：在移动端，插件的`updateNav()`函数没有正确处理折叠框的显示/隐藏状态
2. **移动端检测缺失**：原代码没有区分移动端和桌面端的处理逻辑
3. **CSS样式冲突**：某些CSS规则可能阻止了折叠框的正确隐藏

## 修复方案

### 1. 修改 Greedy Navigation 插件 (`assets/js/plugins/jquery.greedy-navigation.js`)

- 添加移动端检测函数 `isMobile()`
- 在移动端特殊处理逻辑中，根据是否有隐藏项目来决定折叠框的显示状态
- 添加窗口大小变化和方向变化的监听器

### 2. 改进 Masthead 导航逻辑 (`_includes/masthead.html`)

- 在移动端导航处理中添加折叠框状态检查
- 添加窗口大小变化监听器，确保响应式处理
- 优化移动端折叠框的显示逻辑

### 3. 增强语言切换器逻辑 (`assets/js/language-switcher.js`)

- 在菜单状态变化时，确保移动端折叠框状态正确
- 添加折叠框内容检查，如果没有隐藏项目则隐藏折叠框

### 4. 优化CSS样式 (`_sass/_language-switcher.scss`)

- 确保移动端折叠框在不需要时正确隐藏
- 添加强制隐藏样式规则

## 修复后的行为

- **移动端**：折叠框只在有隐藏导航项时显示，没有隐藏项时自动隐藏
- **桌面端**：保持原有的响应式行为不变
- **响应式**：窗口大小变化时自动调整折叠框状态

## 测试方法

1. 在移动设备或浏览器开发者工具的移动端模式下访问网站
2. 检查右上角的折叠框是否只在需要时显示
3. 调整浏览器窗口大小，验证响应式行为
4. 测试不同屏幕方向下的导航行为

## 技术细节

- 移动端检测阈值：768px
- 使用CSS类`.hidden`来控制折叠框的显示/隐藏
- 通过JavaScript动态检查折叠框内容来决定显示状态
- 保持与现有代码的兼容性，不影响网页端功能

## 注意事项

- 修复后的代码保持了原有的功能特性
- 没有破坏现有的响应式设计
- 语言切换功能正常工作
- 桌面端体验保持不变
